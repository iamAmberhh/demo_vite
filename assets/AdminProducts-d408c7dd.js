import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import{r as _,o,c as i,b as u,d as t,F as d,j as m,l as p,t as n}from"./index-d6f7b654.js";const{VITE_APP_API:l,VITE_APP_PATH:g}={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"amberhh",BASE_URL:"/demo_vite/",MODE:"production",DEV:!1,PROD:!0},P={data(){return{isLoading:!1,products:[]}},methods:{checkAdmin(){this.$http.post(`${l}v2/api/user/check`).then(()=>{this.renderData()}).catch(()=>{this.$router.push("/login")})},renderData(){this.$http.get(`${l}v2/api/${g}/admin/products`).then(e=>{this.products=e.data.products}).catch(e=>{alert(e.data.message)})}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexschool\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.checkAdmin(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},2e3)}},A={class:"container"},f={class:"table mt-4"},$=t("thead",null,[t("tr",null,[t("th",{width:"120"},"分類"),t("th",{width:"180"},"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"100"},"是否啟用"),t("th",{width:"100"},"照片")])],-1),k={class:"text-end"},v={class:"text-end"},L={key:0,class:"text-success"},V={key:1},b=["src"];function x(e,c,E,T,a,w){const r=_("VueLoading");return o(),i(d,null,[u(r,{active:a.isLoading,"onUpdate:active":c[0]||(c[0]=s=>a.isLoading=s)},null,8,["active"]),t("div",A,[t("table",f,[$,t("tbody",null,[(o(!0),i(d,null,m(a.products,s=>(o(),i("tr",{key:s.id,class:p({"table-success":s.is_enabled})},[t("td",null,n(s.category),1),t("td",null,n(s.title),1),t("td",k,n(s.origin_price),1),t("td",v,n(s.price),1),t("td",null,[s.is_enabled?(o(),i("span",L,"啟用")):(o(),i("span",V,"未啟用"))]),t("td",null,[t("img",{src:s.imageUrl,alt:"pic",class:"img-fluid"},null,8,b)])],2))),128))])])])],64)}const I=h(P,[["render",x]]);export{I as default};
